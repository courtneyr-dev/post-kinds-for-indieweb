(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.plugins,n=window.wp.data,i=window.wp.apiFetch;var o=e.n(i);const a=window.wp.editor,s="post-kinds-indieweb/post-kinds",l="_postkind_",r={selectedKind:null,autoDetectedKind:null,isAutoDetectionEnabled:!0,apiLookup:{isLoading:!1,results:[],error:null,type:null},availableKinds:[],isInitialized:!1},d="SET_KIND",c="SET_AUTO_DETECTED_KIND",_="ENABLE_AUTO_DETECTION",p="DISABLE_AUTO_DETECTION",u="START_API_LOOKUP",x="RECEIVE_API_RESULTS",b="API_LOOKUP_ERROR",h="CLEAR_API_RESULTS",m="SET_AVAILABLE_KINDS",k="SET_INITIALIZED",g={setKind:e=>({type:d,kind:e}),setAutoDetectedKind:e=>({type:c,kind:e}),enableAutoDetection:()=>({type:_}),disableAutoDetection:()=>({type:p}),startApiLookup:e=>({type:u,lookupType:e}),receiveApiResults:e=>({type:x,results:e}),apiLookupError:e=>({type:b,error:e}),clearApiResults:()=>({type:h}),setAvailableKinds:e=>({type:m,kinds:e}),setInitialized:()=>({type:k}),updatePostKind:e=>async({dispatch:t,registry:n})=>{const{editPost:i}=n.dispatch(a.store),o=n.select(s).getAvailableKinds().find(t=>t.slug===e);o&&await i({kind:[o.id]}),t.setKind(e)},updateKindMeta:(e,t)=>async({registry:n})=>{const{editPost:i}=n.dispatch(a.store),o=l+e;await i({meta:{[o]:t}})},performApiLookup:(e,t)=>async({dispatch:n})=>{n.startApiLookup(e);try{const i=await o()({path:`/post-kinds-indieweb/v1/lookup/${e}?q=${encodeURIComponent(t)}`});n.receiveApiResults(i)}catch(e){n.apiLookupError(e.message||"Lookup failed")}},initialize:()=>async({dispatch:e,registry:t})=>{try{const t=await o()({path:"/wp/v2/kind?per_page=100"});e.setAvailableKinds(t)}catch(e){console.error("Failed to fetch kinds:",e)}const n=t.select(a.store).getEditedPostAttribute("kind"),i=t.select(s).getAvailableKinds();if(n&&n.length>0&&i.length>0){const t=i.find(e=>e.id===n[0]);t&&e.setKind(t.slug)}e.setInitialized()}},w={getSelectedKind:e=>e.selectedKind,getAutoDetectedKind:e=>e.autoDetectedKind,isAutoDetectionEnabled:e=>e.isAutoDetectionEnabled,isApiLoading:e=>e.apiLookup.isLoading,getApiResults:e=>e.apiLookup.results,getApiError:e=>e.apiLookup.error,getApiLookupType:e=>e.apiLookup.type,getAvailableKinds:e=>e.availableKinds,isInitialized:e=>e.isInitialized,getKindMeta:(0,n.createRegistrySelector)(e=>(t,n)=>(e(a.store).getEditedPostAttribute("meta")||{})[l+n]||""),getAllKindMeta:(0,n.createRegistrySelector)(e=>()=>{const t=e(a.store).getEditedPostAttribute("meta")||{},n={};return Object.keys(t).forEach(e=>{if(e.startsWith(l)){const i=e.replace(l,"");n[i]=t[e]}}),n})},f=(0,n.createReduxStore)(s,{reducer:function(e=r,t){switch(t.type){case d:return{...e,selectedKind:t.kind};case c:return{...e,autoDetectedKind:t.kind};case _:return{...e,isAutoDetectionEnabled:!0};case p:return{...e,isAutoDetectionEnabled:!1};case u:return{...e,apiLookup:{isLoading:!0,results:[],error:null,type:t.lookupType}};case x:return{...e,apiLookup:{...e.apiLookup,isLoading:!1,results:t.results,error:null}};case b:return{...e,apiLookup:{...e.apiLookup,isLoading:!1,results:[],error:t.error}};case h:return{...e,apiLookup:{isLoading:!1,results:[],error:null,type:null}};case m:return{...e,availableKinds:t.kinds};case k:return{...e,isInitialized:!0};default:return e}},actions:g,selectors:w}),v=window.wp.i18n,j=window.wp.element,y=window.wp.blockEditor,C=window.wp.blocks,S=window.wp.components,B=window.wp.primitives,M=window.ReactJSXRuntime,N={note:()=>(0,M.jsx)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)(B.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 14H6v-1.5h12V17zm0-3H6v-1.5h12V14zm0-3H6V9.5h12V11z"})}),article:()=>(0,M.jsx)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)(B.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 4H6V5.5h12V7zm0 3H6V8.5h12V10zm0 3H6v-1.5h12V13zm-4 3H6v-1.5h8V16z"})}),reply:()=>(0,M.jsx)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)(B.Path,{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"})}),like:()=>(0,M.jsx)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)(B.Path,{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),repost:()=>(0,M.jsx)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)(B.Path,{d:"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"})}),bookmark:()=>(0,M.jsx)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)(B.Path,{d:"M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2z"})}),rsvp:()=>(0,M.jsx)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)(B.Path,{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zm-7.5-5l-3.5 3.5 1.5 1.5 2-2 4 4 1.5-1.5-5.5-5.5z"})}),checkin:()=>(0,M.jsx)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)(B.Path,{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})}),listen:()=>(0,M.jsx)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)(B.Path,{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"})}),watch:()=>(0,M.jsx)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)(B.Path,{d:"M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z"})}),read:()=>(0,M.jsx)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)(B.Path,{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z"})}),event:()=>(0,M.jsx)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)(B.Path,{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM9 10H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm-8 4H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z"})}),photo:()=>(0,M.jsxs)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,M.jsx)(B.Circle,{cx:"12",cy:"12",r:"3.2"}),(0,M.jsx)(B.Path,{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})]}),video:()=>(0,M.jsx)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)(B.Path,{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"})}),review:()=>(0,M.jsx)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)(B.Path,{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})}),recipe:()=>(0,M.jsx)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)(B.Path,{d:"M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4z"})}),favorite:()=>(0,M.jsx)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)(B.Path,{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"})}),jam:()=>(0,M.jsxs)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,M.jsx)(B.Path,{d:"M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7z"}),(0,M.jsx)(B.Path,{d:"M19.48 12.35c-1.57-1.57-3.56-1.14-4.3-.24l.74.74c.42-.56 1.63-.86 2.78.29.58.58.58 1.53 0 2.12l-1.41 1.41 1.06 1.06 1.41-1.41c1.17-1.17 1.17-3.08-.28-3.97z"})]}),wish:()=>(0,M.jsx)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)(B.Path,{d:"M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"})}),mood:()=>(0,M.jsx)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)(B.Path,{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"})}),acquisition:()=>(0,M.jsx)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)(B.Path,{d:"M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-6-2c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2zm6 16H6V8h2v2c0 .55.45 1 1 1s1-.45 1-1V8h4v2c0 .55.45 1 1 1s1-.45 1-1V8h2v12z"})}),drink:()=>(0,M.jsx)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)(B.Path,{d:"M20 3H4v10c0 2.21 1.79 4 4 4h6c2.21 0 4-1.79 4-4v-3h2c1.11 0 2-.89 2-2V5c0-1.11-.89-2-2-2zm0 5h-2V5h2v3zM4 19h16v2H4z"})}),eat:()=>(0,M.jsx)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)(B.Path,{d:"M8.1 13.34l2.83-2.83L3.91 3.5c-1.56 1.56-1.56 4.09 0 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z"})}),play:()=>(0,M.jsx)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)(B.Path,{d:"M21.58 16.09l-1.09-7.66C20.21 6.46 18.52 5 16.53 5H7.47C5.48 5 3.79 6.46 3.51 8.43l-1.09 7.66C2.2 17.63 3.39 19 4.94 19h0c.68 0 1.32-.27 1.8-.75L9 16h6l2.25 2.25c.48.48 1.13.75 1.8.75h0C20.61 19 21.8 17.63 21.58 16.09zM11 11H9v2H8v-2H6v-1h2V8h1v2h2V11zm4-1c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1S15.55 10 15 10zm2 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1S17.55 13 17 13z"})})};function z({kinds:e,selectedKind:t,onSelect:n}){const i=(0,j.useRef)(null),o=(0,j.useCallback)((e,t)=>{const n=i.current?.querySelectorAll("button");if(!n||0===n.length)return;let o=t;switch(e.key){case"ArrowRight":o=t+1;break;case"ArrowLeft":o=t-1;break;case"ArrowDown":o=t+3;break;case"ArrowUp":o=t-3;break;case"Home":o=0;break;case"End":o=n.length-1;break;default:return}o<0?o=n.length-1:o>=n.length&&(o=0),e.preventDefault(),n[o]?.focus()},[]),a=[...e].sort((e,t)=>{const n=["note","article","reply","like","repost","bookmark","photo","video","rsvp","checkin","listen","watch","read","event","review","play","eat","drink","favorite","jam","wish","mood","acquisition","recipe"],i=n.indexOf(e.slug),o=n.indexOf(t.slug);return(-1===i?999:i)-(-1===o?999:o)});return(0,M.jsxs)("div",{ref:i,className:"post-kinds-indieweb-kind-grid",role:"radiogroup","aria-label":(0,v.__)("Select post kind","post-kinds-for-indieweb"),children:[a.map((e,i)=>{const a=N[e.slug]||N.note,s=e.slug===t;return(0,M.jsx)(S.Tooltip,{text:e.description||e.name,position:"bottom center",children:(0,M.jsxs)(S.Button,{className:"post-kinds-indieweb-kind-button "+(s?"is-selected":""),onClick:()=>n(e.slug),onKeyDown:e=>o(e,i),"aria-pressed":s,"aria-label":e.name,children:[(0,M.jsx)(a,{}),(0,M.jsx)("span",{className:"post-kinds-indieweb-kind-label",children:e.name}),s&&(0,M.jsx)(S.VisuallyHidden,{children:(0,v.__)("(selected)","post-kinds-for-indieweb")})]})},e.slug)}),(0,M.jsx)("style",{children:"\n\t\t\t\t.post-kinds-indieweb-kind-grid {\n\t\t\t\t\tdisplay: grid;\n\t\t\t\t\tgrid-template-columns: repeat(3, 1fr);\n\t\t\t\t\tgap: 8px;\n\t\t\t\t\tmargin-bottom: 16px;\n\t\t\t\t}\n\n\t\t\t\t.post-kinds-indieweb-kind-button {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tpadding: 12px 8px;\n\t\t\t\t\tborder: 1px solid #ddd;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tbackground: #fff;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\ttransition: all 0.15s ease;\n\t\t\t\t\tmin-height: 70px;\n\t\t\t\t}\n\n\t\t\t\t.post-kinds-indieweb-kind-button:hover {\n\t\t\t\t\tborder-color: #007cba;\n\t\t\t\t\tbackground: #f0f7fc;\n\t\t\t\t}\n\n\t\t\t\t.post-kinds-indieweb-kind-button:focus {\n\t\t\t\t\toutline: 2px solid #007cba;\n\t\t\t\t\toutline-offset: 2px;\n\t\t\t\t}\n\n\t\t\t\t.post-kinds-indieweb-kind-button.is-selected {\n\t\t\t\t\tborder-color: #007cba;\n\t\t\t\t\tbackground: #007cba;\n\t\t\t\t\tcolor: #fff;\n\t\t\t\t}\n\n\t\t\t\t.post-kinds-indieweb-kind-button.is-selected:hover {\n\t\t\t\t\tbackground: #005a8c;\n\t\t\t\t}\n\n\t\t\t\t.post-kinds-indieweb-kind-button svg {\n\t\t\t\t\twidth: 24px;\n\t\t\t\t\theight: 24px;\n\t\t\t\t\tmargin-bottom: 4px;\n\t\t\t\t}\n\n\t\t\t\t.post-kinds-indieweb-kind-button.is-selected svg {\n\t\t\t\t\tfill: #fff;\n\t\t\t\t}\n\n\t\t\t\t.post-kinds-indieweb-kind-label {\n\t\t\t\t\tfont-size: 11px;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tline-height: 1.2;\n\t\t\t\t}\n\t\t\t"})]})}var D=(0,M.jsx)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,M.jsx)(B.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"})}),T=(0,M.jsx)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,M.jsx)(B.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})});function H({kind:e}){const t=window.postKindsIndieWebEditor?.syndicationServices||{},i=Object.entries(t).filter(([,t])=>t.kind===e),o=i.filter(([,e])=>e.connected),a=i.filter(([,e])=>e.needsAuth),{updateKindMeta:l}=(0,n.useDispatch)(s),r=(0,n.useSelect)(e=>{if(0===o.length)return{};const t=e(s).getKindMeta,n={};return o.forEach(([e])=>{n[e]=t(`syndicate_${e}`)}),n},[o]);return 0===i.length?null:(0,M.jsxs)(S.Flex,{direction:"column",gap:2,className:"post-kinds-indieweb-syndication-controls",children:[(0,M.jsx)(S.PanelRow,{children:(0,M.jsx)("span",{className:"components-base-control__label",children:(0,v.__)("Syndication","post-kinds-for-indieweb")})}),o.map(([e,t])=>{const n=!1!==r[e];return(0,M.jsx)(S.ToggleControl,{label:t.name,help:n?(0,v.__)("Will sync on publish","post-kinds-for-indieweb"):(0,v.__)("Will not sync","post-kinds-for-indieweb"),checked:n,onChange:t=>l(`syndicate_${e}`,t)},e)}),a.map(([e,t])=>(0,M.jsxs)("div",{className:"post-kinds-indieweb-syndication-notice",style:{padding:"8px 12px",backgroundColor:"#fff8e5",border:"1px solid #dba617",borderRadius:"2px",fontSize:"12px"},children:[(0,M.jsxs)("strong",{children:[t.name,":"]})," ",(0,v.__)("Authorization required. Complete setup in API Connections.","post-kinds-for-indieweb")]},e))]})}function L({kind:e}){switch(e){case"rsvp":return(0,M.jsx)(P,{});case"checkin":return(0,M.jsx)(K,{});case"listen":return(0,M.jsx)(I,{});case"watch":return(0,M.jsx)(V,{});case"read":return(0,M.jsx)(E,{});case"event":return(0,M.jsx)(U,{});case"review":return(0,M.jsx)(F,{});case"play":return(0,M.jsx)(G,{});case"eat":return(0,M.jsx)(O,{});case"drink":return(0,M.jsx)(W,{});case"favorite":return(0,M.jsx)($,{});case"jam":return(0,M.jsx)(Y,{});case"wish":return(0,M.jsx)(X,{});case"mood":return(0,M.jsx)(Z,{});case"acquisition":return(0,M.jsx)(J,{});case"recipe":return(0,M.jsx)(Q,{});case"reply":case"like":case"repost":return(0,M.jsx)(A,{});case"bookmark":return(0,M.jsx)(R,{});default:return null}}function A(){const{citeName:e,citeUrl:t,citeAuthor:i,citeSummary:o}=(0,n.useSelect)(e=>{const t=e(s).getKindMeta;return{citeName:t("cite_name"),citeUrl:t("cite_url"),citeAuthor:t("cite_author"),citeSummary:t("cite_summary")}},[]),{updateKindMeta:a}=(0,n.useDispatch)(s);return(0,M.jsxs)(S.Flex,{direction:"column",gap:4,className:"post-kinds-indieweb-kind-fields",children:[(0,M.jsx)(S.TextControl,{label:(0,v.__)("URL","post-kinds-for-indieweb"),value:t,onChange:e=>a("cite_url",e),type:"url",placeholder:"https://",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Title","post-kinds-for-indieweb"),value:e,onChange:e=>a("cite_name",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Author","post-kinds-for-indieweb"),value:i,onChange:e=>a("cite_author",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextareaControl,{label:(0,v.__)("Summary","post-kinds-for-indieweb"),value:o,onChange:e=>a("cite_summary",e),rows:3,__nextHasNoMarginBottom:!0})]})}function R(){const[e,t]=(0,j.useState)(!1),[i,a]=(0,j.useState)(null),{citeName:l,citeUrl:r,citeAuthor:d,citeSummary:c,bookmarkEmbedType:_}=(0,n.useSelect)(e=>{const t=e(s).getKindMeta;return{citeName:t("cite_name"),citeUrl:t("cite_url"),citeAuthor:t("cite_author"),citeSummary:t("cite_summary"),bookmarkEmbedType:t("bookmark_embed_type")||"auto"}},[]),{updateKindMeta:p}=(0,n.useDispatch)(s),u=window.postKindsIndieWebEditor?.bookmarkCardActive,x=(0,j.useCallback)(async e=>{if(e&&e.startsWith("http")){t(!0);try{const t=await o()({path:`/post-kinds-indieweb/v1/check-oembed?url=${encodeURIComponent(e)}`});a(t)}catch{a({supported:!1})}t(!1)}else a(null)},[]),b=[{label:(0,v.__)("Auto (oEmbed first, then fallback)","post-kinds-for-indieweb"),value:"auto"},{label:(0,v.__)("oEmbed (YouTube, Twitter, etc.)","post-kinds-for-indieweb"),value:"oembed"}];return u&&b.push({label:(0,v.__)("Bookmark Card (link preview)","post-kinds-for-indieweb"),value:"bookmark-card"}),b.push({label:(0,v.__)("None (metadata only)","post-kinds-for-indieweb"),value:"none"}),(0,M.jsxs)(S.Flex,{direction:"column",gap:4,className:"post-kinds-indieweb-kind-fields",children:[(0,M.jsx)(S.TextControl,{label:(0,v.__)("URL","post-kinds-for-indieweb"),value:r,onChange:e=>{p("cite_url",e),x(e)},type:"url",placeholder:"https://",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),e&&(0,M.jsxs)(S.Flex,{children:[(0,M.jsx)(S.Spinner,{}),(0,M.jsx)("span",{children:(0,v.__)("Checking embed supportâ€¦","post-kinds-for-indieweb")})]}),i&&!e&&(0,M.jsx)("div",{className:"post-kinds-indieweb-embed-status",children:i.supported?(0,M.jsxs)("span",{style:{color:"green"},children:[(0,v.__)("oEmbed supported","post-kinds-for-indieweb"),i.provider&&` (${i.provider})`]}):(0,M.jsxs)("span",{style:{color:"#666"},children:[(0,v.__)("No oEmbed support","post-kinds-for-indieweb"),u&&" - "+(0,v.__)("will use Bookmark Card","post-kinds-for-indieweb")]})}),(0,M.jsx)(S.SelectControl,{label:(0,v.__)("Embed Type","post-kinds-for-indieweb"),value:_,options:b,onChange:e=>p("bookmark_embed_type",e),help:(0,v.__)("Choose how the bookmark URL should be displayed in the post.","post-kinds-for-indieweb"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Title","post-kinds-for-indieweb"),value:l,onChange:e=>p("cite_name",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Author","post-kinds-for-indieweb"),value:d,onChange:e=>p("cite_author",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextareaControl,{label:(0,v.__)("Summary","post-kinds-for-indieweb"),value:c,onChange:e=>p("cite_summary",e),rows:3,__nextHasNoMarginBottom:!0})]})}function P(){const{rsvpStatus:e,citeUrl:t,citeName:i}=(0,n.useSelect)(e=>{const t=e(s).getKindMeta;return{rsvpStatus:t("rsvp_status"),citeUrl:t("cite_url"),citeName:t("cite_name")}},[]),{updateKindMeta:o}=(0,n.useDispatch)(s);return(0,M.jsxs)(S.Flex,{direction:"column",gap:4,className:"post-kinds-indieweb-kind-fields",children:[(0,M.jsx)(S.TextControl,{label:(0,v.__)("Event URL","post-kinds-for-indieweb"),value:t,onChange:e=>o("cite_url",e),type:"url",placeholder:"https://",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Event Name","post-kinds-for-indieweb"),value:i,onChange:e=>o("cite_name",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.SelectControl,{label:(0,v.__)("RSVP Status","post-kinds-for-indieweb"),value:e,onChange:e=>o("rsvp_status",e),options:[{label:(0,v.__)("Select statusâ€¦","post-kinds-for-indieweb"),value:""},{label:(0,v.__)("âœ… Yes, attending","post-kinds-for-indieweb"),value:"yes"},{label:(0,v.__)("âŒ No, can't make it","post-kinds-for-indieweb"),value:"no"},{label:(0,v.__)("ðŸ¤” Maybe","post-kinds-for-indieweb"),value:"maybe"},{label:(0,v.__)("ðŸ‘€ Interested","post-kinds-for-indieweb"),value:"interested"}],__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]})}function K(){const[e,t]=(0,j.useState)(""),[i,a]=(0,j.useState)([]),[l,r]=(0,j.useState)(!1),{checkinName:d,checkinAddress:c,checkinLocality:_,checkinRegion:p,checkinCountry:u,geoLatitude:x,geoLongitude:b}=(0,n.useSelect)(e=>{const t=e(s).getKindMeta;return{checkinName:t("checkin_name"),checkinAddress:t("checkin_address"),checkinLocality:t("checkin_locality"),checkinRegion:t("checkin_region"),checkinCountry:t("checkin_country"),geoLatitude:t("geo_latitude"),geoLongitude:t("geo_longitude")}},[]),{updateKindMeta:h}=(0,n.useDispatch)(s),m=async()=>{if(!e||e.trim().length<2)return;r(!0);const t=setTimeout(()=>{console.error("Venue search timed out after 15 seconds"),r(!1),a([])},15e3);try{const n=await o()({path:`/post-kinds-indieweb/v1/location/venues?query=${encodeURIComponent(e)}`});clearTimeout(t),console.log("Foursquare results:",n),a(n||[]),r(!1)}catch(n){console.log("Foursquare failed, trying Nominatim:",n);try{const n=await o()({path:`/post-kinds-indieweb/v1/location/search?query=${encodeURIComponent(e)}`});clearTimeout(t),console.log("Nominatim results:",n),a(n||[]),r(!1)}catch(e){clearTimeout(t),console.error("Both Foursquare and Nominatim failed:",e),a([]),r(!1)}}};return(0,M.jsxs)(S.Flex,{direction:"column",gap:4,className:"post-kinds-indieweb-kind-fields",children:[(0,M.jsx)(S.BaseControl,{id:"checkin-venue-search",label:(0,v.__)("Look Up Venue","post-kinds-for-indieweb"),__nextHasNoMarginBottom:!0,children:(0,M.jsxs)(S.Flex,{children:[(0,M.jsx)(S.TextControl,{value:e,onChange:t,placeholder:(0,v.__)("Search venuesâ€¦","post-kinds-for-indieweb"),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),m())},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.Button,{variant:"secondary",onClick:m,disabled:l,icon:D,children:l?(0,M.jsx)(S.Spinner,{}):(0,v.__)("Search","post-kinds-for-indieweb")})]})}),i.length>0&&(0,M.jsx)("div",{className:"venue-search-results",style:{maxHeight:"200px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"4px"},children:i.slice(0,5).map((e,n)=>(0,M.jsxs)(S.Button,{variant:"tertiary",onClick:()=>(e=>{h("checkin_name",e.name||e.display_name?.split(",")[0]||""),h("checkin_address",e.address||e.street||""),h("checkin_locality",e.locality||e.city||""),h("checkin_region",e.region||e.state||""),h("checkin_country",e.country||""),(e.latitude||e.lat)&&h("geo_latitude",parseFloat(e.latitude||e.lat)||0),(e.longitude||e.lon)&&h("geo_longitude",parseFloat(e.longitude||e.lon)||0),t(""),a([])})(e),style:{display:"block",width:"100%",textAlign:"left",padding:"8px"},children:[(0,M.jsx)("strong",{children:e.name||e.display_name?.split(",")[0]}),(0,M.jsx)("br",{}),(0,M.jsx)("small",{style:{opacity:.7},children:e.formatted_address||e.display_name})]},e.fsq_id||e.place_id||n))}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Venue Name","post-kinds-for-indieweb"),value:d,onChange:e=>h("checkin_name",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Address","post-kinds-for-indieweb"),value:c,onChange:e=>h("checkin_address",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsxs)(S.Flex,{children:[(0,M.jsx)(S.TextControl,{label:(0,v.__)("City","post-kinds-for-indieweb"),value:_,onChange:e=>h("checkin_locality",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("State/Region","post-kinds-for-indieweb"),value:p,onChange:e=>h("checkin_region",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Country","post-kinds-for-indieweb"),value:u,onChange:e=>h("checkin_country",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsxs)(S.Flex,{children:[(0,M.jsx)(S.TextControl,{label:(0,v.__)("Latitude","post-kinds-for-indieweb"),value:x,onChange:e=>h("geo_latitude",parseFloat(e)||0),type:"number",step:"0.0000001",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Longitude","post-kinds-for-indieweb"),value:b,onChange:e=>h("geo_longitude",parseFloat(e)||0),type:"number",step:"0.0000001",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]}),(0,M.jsx)(H,{kind:"checkin"})]})}function I(){const e=(0,j.useId)(),t=(0,j.useId)(),[i,a]=(0,j.useState)(""),[l,r]=(0,j.useState)(""),[d,c]=(0,j.useState)(!1),[_,p]=(0,j.useState)(""),{listenTrack:u,listenArtist:x,listenAlbum:b,listenCover:h,listenUrl:m,isLoading:k,apiResults:g}=(0,n.useSelect)(e=>{const t=e(s).getKindMeta,n=e(s);return{listenTrack:t("listen_track"),listenArtist:t("listen_artist"),listenAlbum:t("listen_album"),listenCover:t("listen_cover"),listenUrl:t("listen_url"),isLoading:n.isApiLoading(),apiResults:"music"===n.getApiLookupType()?n.getApiResults():[]}},[]),{updateKindMeta:w,performApiLookup:f,clearApiResults:y}=(0,n.useDispatch)(s),C=(0,j.useCallback)(e=>/^https?:\/\//i.test(e.trim()),[]),B=(0,j.useCallback)(async()=>{const e=l.trim();if(e){c(!0),p("");try{const t=await o()({path:`/post-kinds-indieweb/v1/lookup/music-url?url=${encodeURIComponent(e)}`});t.track&&w("listen_track",t.track),t.artist&&w("listen_artist",t.artist),t.album&&w("listen_album",t.album),t.cover&&w("listen_cover",t.cover),w("listen_url",t.url||e),r("")}catch(e){p(e.message||(0,v.__)("Could not fetch track info from URL.","post-kinds-for-indieweb"))}finally{c(!1)}}},[l,w]),N=(0,j.useCallback)(()=>{const e=i.trim();if(e)return C(e)?(r(e),a(""),void B()):void f("music",e)},[i,C,f,B]),z=(0,j.useCallback)(e=>{w("listen_track",e.track),w("listen_artist",e.artist),w("listen_album",e.album),w("listen_cover",e.cover),w("listen_mbid",e.mbid),y(),a("")},[w,y]);return(0,M.jsxs)(S.Flex,{direction:"column",gap:4,className:"post-kinds-indieweb-kind-fields",children:[(0,M.jsxs)(S.BaseControl,{id:e,label:(0,v.__)("Paste Music URL","post-kinds-for-indieweb"),help:(0,v.__)("Spotify, Apple Music, YouTube, SoundCloud","post-kinds-for-indieweb"),children:[(0,M.jsxs)(S.Flex,{children:[(0,M.jsx)(S.TextControl,{value:l,onChange:r,placeholder:"https://open.spotify.com/track/...",onKeyDown:e=>"Enter"===e.key&&B(),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.Button,{icon:T,onClick:B,disabled:d||!l.trim(),label:(0,v.__)("Fetch","post-kinds-for-indieweb")})]}),_&&(0,M.jsx)("p",{style:{color:"#d63638",fontSize:"12px",marginTop:"4px"},children:_})]}),d&&(0,M.jsx)(S.Spinner,{}),m&&(0,M.jsxs)("div",{style:{padding:"8px 12px",backgroundColor:"#f0f6fc",border:"1px solid #c3c4c7",borderRadius:"2px",fontSize:"12px",wordBreak:"break-all"},children:[(0,M.jsx)("strong",{children:(0,v.__)("Linked:","post-kinds-for-indieweb")})," ",(0,M.jsx)("a",{href:m,target:"_blank",rel:"noopener noreferrer",children:m})]}),(0,M.jsx)(S.BaseControl,{id:t,label:(0,v.__)("Or Search by Name","post-kinds-for-indieweb"),children:(0,M.jsxs)(S.Flex,{children:[(0,M.jsx)(S.TextControl,{value:i,onChange:a,placeholder:(0,v.__)("Track name or artistâ€¦","post-kinds-for-indieweb"),onKeyDown:e=>"Enter"===e.key&&N(),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.Button,{icon:D,onClick:N,disabled:k,label:(0,v.__)("Search","post-kinds-for-indieweb")})]})}),k&&(0,M.jsx)(S.Spinner,{}),g.length>0&&(0,M.jsx)("div",{className:"post-kinds-indieweb-api-results",children:g.slice(0,5).map((e,t)=>(0,M.jsxs)(S.Button,{className:"post-kinds-indieweb-api-result",onClick:()=>z(e),children:[e.cover&&(0,M.jsx)("img",{src:e.cover,alt:"",width:"40",height:"40"}),(0,M.jsxs)("span",{children:[(0,M.jsx)("strong",{children:e.track}),(0,M.jsx)("br",{}),e.artist," â€” ",e.album]})]},t))}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Track","post-kinds-for-indieweb"),value:u,onChange:e=>w("listen_track",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Artist","post-kinds-for-indieweb"),value:x,onChange:e=>w("listen_artist",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Album","post-kinds-for-indieweb"),value:b,onChange:e=>w("listen_album",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Album Art URL","post-kinds-for-indieweb"),value:h,onChange:e=>w("listen_cover",e),type:"url",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(H,{kind:"listen"})]})}function V(){const e=(0,j.useId)(),t=(0,j.useId)(),[i,a]=(0,j.useState)(""),[l,r]=(0,j.useState)(""),[d,c]=(0,j.useState)(!1),[_,p]=(0,j.useState)(""),{watchTitle:u,watchYear:x,watchPoster:b,watchStatus:h,watchSpoilers:m,watchUrl:k,isLoading:g,apiResults:w}=(0,n.useSelect)(e=>{const t=e(s).getKindMeta,n=e(s);return{watchTitle:t("watch_title"),watchYear:t("watch_year"),watchPoster:t("watch_poster"),watchStatus:t("watch_status"),watchSpoilers:t("watch_spoilers"),watchUrl:t("watch_url"),isLoading:n.isApiLoading(),apiResults:"movie"===n.getApiLookupType()?n.getApiResults():[]}},[]),{updateKindMeta:f,performApiLookup:y,clearApiResults:C}=(0,n.useDispatch)(s),B=(0,j.useCallback)(e=>/^https?:\/\//i.test(e.trim()),[]),N=(0,j.useCallback)(async()=>{const e=l.trim();if(e){c(!0),p("");try{const t=await o()({path:`/post-kinds-indieweb/v1/lookup/watch-url?url=${encodeURIComponent(e)}`});t.title&&f("watch_title",t.title),t.year&&f("watch_year",t.year),t.poster&&f("watch_poster",t.poster),t.tmdb_id&&f("watch_tmdb_id",t.tmdb_id),t.imdb_id&&f("watch_imdb_id",t.imdb_id),t.trakt_id&&f("watch_trakt_id",t.trakt_id),f("watch_url",e),r("")}catch(e){p(e.message||(0,v.__)("Could not fetch movie/TV info from URL.","post-kinds-for-indieweb"))}finally{c(!1)}}},[l,f]),z=(0,j.useCallback)(()=>{const e=i.trim();if(e)return B(e)?(r(e),a(""),void N()):void y("movie",e)},[i,B,y,N]),L=(0,j.useCallback)(e=>{f("watch_title",e.title),f("watch_year",e.year),f("watch_poster",e.poster),f("watch_tmdb_id",e.tmdb_id),C(),a("")},[f,C]);return(0,M.jsxs)(S.Flex,{direction:"column",gap:4,className:"post-kinds-indieweb-kind-fields",children:[(0,M.jsxs)(S.BaseControl,{id:e,label:(0,v.__)("Paste Movie/TV URL","post-kinds-for-indieweb"),help:(0,v.__)("IMDB, TMDB, Trakt, or Letterboxd","post-kinds-for-indieweb"),children:[(0,M.jsxs)(S.Flex,{children:[(0,M.jsx)(S.TextControl,{value:l,onChange:r,placeholder:"https://www.imdb.com/title/...",onKeyDown:e=>"Enter"===e.key&&N(),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.Button,{icon:T,onClick:N,disabled:d||!l.trim(),label:(0,v.__)("Fetch","post-kinds-for-indieweb")})]}),_&&(0,M.jsx)("p",{style:{color:"#d63638",fontSize:"12px",marginTop:"4px"},children:_})]}),d&&(0,M.jsx)(S.Spinner,{}),k&&(0,M.jsxs)("div",{style:{padding:"8px 12px",backgroundColor:"#f0f6fc",border:"1px solid #c3c4c7",borderRadius:"2px",fontSize:"12px",wordBreak:"break-all"},children:[(0,M.jsx)("strong",{children:(0,v.__)("Linked:","post-kinds-for-indieweb")})," ",(0,M.jsx)("a",{href:k,target:"_blank",rel:"noopener noreferrer",children:k})]}),(0,M.jsx)(S.BaseControl,{id:t,label:(0,v.__)("Or Search by Title","post-kinds-for-indieweb"),children:(0,M.jsxs)(S.Flex,{children:[(0,M.jsx)(S.TextControl,{value:i,onChange:a,placeholder:(0,v.__)("Movie or TV show titleâ€¦","post-kinds-for-indieweb"),onKeyDown:e=>"Enter"===e.key&&z(),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.Button,{icon:D,onClick:z,disabled:g,label:(0,v.__)("Search","post-kinds-for-indieweb")})]})}),g&&(0,M.jsx)(S.Spinner,{}),w.length>0&&(0,M.jsx)("div",{className:"post-kinds-indieweb-api-results",children:w.slice(0,5).map((e,t)=>(0,M.jsxs)(S.Button,{className:"post-kinds-indieweb-api-result",onClick:()=>L(e),children:[e.poster&&(0,M.jsx)("img",{src:e.poster,alt:"",width:"30",height:"45"}),(0,M.jsxs)("span",{children:[(0,M.jsx)("strong",{children:e.title})," (",e.year,")"]})]},t))}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Title","post-kinds-for-indieweb"),value:u,onChange:e=>f("watch_title",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Year","post-kinds-for-indieweb"),value:x,onChange:e=>f("watch_year",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.SelectControl,{label:(0,v.__)("Status","post-kinds-for-indieweb"),value:h,onChange:e=>f("watch_status",e),options:[{label:(0,v.__)("Watched","post-kinds-for-indieweb"),value:"watched"},{label:(0,v.__)("Currently Watching","post-kinds-for-indieweb"),value:"watching"},{label:(0,v.__)("Abandoned","post-kinds-for-indieweb"),value:"abandoned"}],__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.ToggleControl,{label:(0,v.__)("Contains spoilers","post-kinds-for-indieweb"),checked:m,onChange:e=>f("watch_spoilers",e),__nextHasNoMarginBottom:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Poster URL","post-kinds-for-indieweb"),value:b,onChange:e=>f("watch_poster",e),type:"url",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(H,{kind:"watch"})]})}function E(){const e=(0,j.useId)(),[t,i]=(0,j.useState)(""),{readTitle:o,readAuthor:a,readIsbn:l,readCover:r,readStatus:d,readProgress:c,readPages:_,isLoading:p,apiResults:u}=(0,n.useSelect)(e=>{const t=e(s).getKindMeta,n=e(s);return{readTitle:t("read_title"),readAuthor:t("read_author"),readIsbn:t("read_isbn"),readCover:t("read_cover"),readStatus:t("read_status"),readProgress:t("read_progress"),readPages:t("read_pages"),isLoading:n.isApiLoading(),apiResults:"book"===n.getApiLookupType()?n.getApiResults():[]}},[]),{updateKindMeta:x,performApiLookup:b,clearApiResults:h}=(0,n.useDispatch)(s),m=(0,j.useCallback)(()=>{t.trim()&&b("book",t)},[t,b]),k=(0,j.useCallback)(e=>{x("read_title",e.title),x("read_author",e.author),x("read_isbn",e.isbn),x("read_cover",e.cover),x("read_pages",e.pages||0),h(),i("")},[x,h]);return(0,M.jsxs)(S.Flex,{direction:"column",gap:4,className:"post-kinds-indieweb-kind-fields",children:[(0,M.jsx)(S.BaseControl,{id:e,label:(0,v.__)("Search Books","post-kinds-for-indieweb"),children:(0,M.jsxs)(S.Flex,{children:[(0,M.jsx)(S.TextControl,{value:t,onChange:i,placeholder:(0,v.__)("Title or ISBNâ€¦","post-kinds-for-indieweb"),onKeyDown:e=>"Enter"===e.key&&m(),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.Button,{icon:D,onClick:m,disabled:p,label:(0,v.__)("Search","post-kinds-for-indieweb")})]})}),p&&(0,M.jsx)(S.Spinner,{}),u.length>0&&(0,M.jsx)("div",{className:"post-kinds-indieweb-api-results",children:u.slice(0,5).map((e,t)=>(0,M.jsxs)(S.Button,{className:"post-kinds-indieweb-api-result",onClick:()=>k(e),children:[e.cover&&(0,M.jsx)("img",{src:e.cover,alt:"",width:"30",height:"45"}),(0,M.jsxs)("span",{children:[(0,M.jsx)("strong",{children:e.title}),(0,M.jsx)("br",{}),e.author]})]},t))}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Title","post-kinds-for-indieweb"),value:o,onChange:e=>x("read_title",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Author","post-kinds-for-indieweb"),value:a,onChange:e=>x("read_author",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("ISBN","post-kinds-for-indieweb"),value:l,onChange:e=>x("read_isbn",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.SelectControl,{label:(0,v.__)("Status","post-kinds-for-indieweb"),value:d,onChange:e=>x("read_status",e),options:[{label:(0,v.__)("To Read","post-kinds-for-indieweb"),value:"to-read"},{label:(0,v.__)("Currently Reading","post-kinds-for-indieweb"),value:"reading"},{label:(0,v.__)("Finished","post-kinds-for-indieweb"),value:"finished"},{label:(0,v.__)("Abandoned","post-kinds-for-indieweb"),value:"abandoned"}],__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsxs)(S.Flex,{children:[(0,M.jsx)(S.TextControl,{label:(0,v.__)("Current Page","post-kinds-for-indieweb"),value:c,onChange:e=>x("read_progress",parseInt(e,10)||0),type:"number",min:"0",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Total Pages","post-kinds-for-indieweb"),value:_,onChange:e=>x("read_pages",parseInt(e,10)||0),type:"number",min:"0",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Cover URL","post-kinds-for-indieweb"),value:r,onChange:e=>x("read_cover",e),type:"url",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]})}function U(){const{eventStart:e,eventEnd:t,eventLocation:i,eventUrl:o}=(0,n.useSelect)(e=>{const t=e(s).getKindMeta;return{eventStart:t("event_start"),eventEnd:t("event_end"),eventLocation:t("event_location"),eventUrl:t("event_url")}},[]),{updateKindMeta:a}=(0,n.useDispatch)(s);return(0,M.jsxs)(S.Flex,{direction:"column",gap:4,className:"post-kinds-indieweb-kind-fields",children:[(0,M.jsx)(S.TextControl,{label:(0,v.__)("Start Date/Time","post-kinds-for-indieweb"),value:e,onChange:e=>a("event_start",e),type:"datetime-local",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("End Date/Time","post-kinds-for-indieweb"),value:t,onChange:e=>a("event_end",e),type:"datetime-local",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Location","post-kinds-for-indieweb"),value:i,onChange:e=>a("event_location",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Event URL","post-kinds-for-indieweb"),value:o,onChange:e=>a("event_url",e),type:"url",placeholder:"https://",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]})}function F(){const e=(0,j.useId)(),{reviewRating:t,reviewBest:i,reviewItemName:o,reviewItemUrl:a}=(0,n.useSelect)(e=>{const t=e(s).getKindMeta;return{reviewRating:t("review_rating"),reviewBest:t("review_best")||5,reviewItemName:t("review_item_name"),reviewItemUrl:t("review_item_url")}},[]),{updateKindMeta:l}=(0,n.useDispatch)(s),r=parseFloat(t)||0,d=parseInt(i,10)||5,c=[];for(let e=1;e<=d;e++)e<=r?c.push("â˜…"):e-.5===r?c.push("Â½"):c.push("â˜†");return(0,M.jsxs)(S.Flex,{direction:"column",gap:4,className:"post-kinds-indieweb-kind-fields",children:[(0,M.jsx)(S.TextControl,{label:(0,v.__)("Item Name","post-kinds-for-indieweb"),value:o,onChange:e=>l("review_item_name",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Item URL","post-kinds-for-indieweb"),value:a,onChange:e=>l("review_item_url",e),type:"url",placeholder:"https://",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.BaseControl,{id:e,label:(0,v.__)("Rating","post-kinds-for-indieweb"),children:(0,M.jsxs)("div",{className:"post-kinds-indieweb-star-rating",children:[(0,M.jsx)("span",{className:"post-kinds-indieweb-stars","aria-hidden":"true",children:c.join("")}),(0,M.jsx)(S.RangeControl,{value:r,onChange:e=>l("review_rating",e),min:0,max:d,step:.5,withInputField:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]})}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Maximum Rating","post-kinds-for-indieweb"),value:i,onChange:e=>l("review_best",parseInt(e,10)||5),type:"number",min:"1",max:"10",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)("style",{children:"\n\t\t\t\t.post-kinds-indieweb-star-rating .post-kinds-indieweb-stars {\n\t\t\t\t\tfont-size: 24px;\n\t\t\t\t\tcolor: #f5a623;\n\t\t\t\t\tmargin-bottom: 8px;\n\t\t\t\t\tdisplay: block;\n\t\t\t\t}\n\n\t\t\t\t.post-kinds-indieweb-api-results {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\tgap: 4px;\n\t\t\t\t\tmax-height: 200px;\n\t\t\t\t\toverflow-y: auto;\n\t\t\t\t\tborder: 1px solid #ddd;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tpadding: 4px;\n\t\t\t\t}\n\n\t\t\t\t.post-kinds-indieweb-api-result {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tgap: 8px;\n\t\t\t\t\tpadding: 8px;\n\t\t\t\t\ttext-align: left;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tjustify-content: flex-start;\n\t\t\t\t}\n\n\t\t\t\t.post-kinds-indieweb-api-result img {\n\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t\tobject-fit: cover;\n\t\t\t\t}\n\n\t\t\t\t.post-kinds-indieweb-api-result span {\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t}\n\t\t\t"})]})}function G(){const e=(0,j.useId)(),t=(0,j.useId)(),[i,a]=(0,j.useState)(""),[l,r]=(0,j.useState)("bgg"),[d,c]=(0,j.useState)("boardgame"),[_,p]=(0,j.useState)(!1),[u,x]=(0,j.useState)([]),[b,h]=(0,j.useState)(""),[m,k]=(0,j.useState)(""),[g,w]=(0,j.useState)(!1),{playTitle:f,playPlatform:y,playStatus:C,playHours:B,playCover:N,playRating:z,playBggId:T,playRawgId:H,playSteamId:L,playOfficialUrl:A,playPurchaseUrl:R}=(0,n.useSelect)(e=>{const t=e(s).getKindMeta;return{playTitle:t("play_title"),playPlatform:t("play_platform"),playStatus:t("play_status"),playHours:t("play_hours"),playCover:t("play_cover"),playRating:t("play_rating"),playBggId:t("play_bgg_id"),playRawgId:t("play_rawg_id"),playSteamId:t("play_steam_id"),playOfficialUrl:t("play_official_url"),playPurchaseUrl:t("play_purchase_url")}},[]),{updateKindMeta:P}=(0,n.useDispatch)(s),K=E.some(e=>e.value===y&&"other"!==e.value&&""!==e.value),I=(0,j.useCallback)(async()=>{const e=i.trim();if(e){p(!0),h(""),x([]);try{const t=new URLSearchParams({q:e,source:l});"bgg"===l&&t.set("type",d);const n=await o()({path:`/post-kinds-indieweb/v1/lookup/game?${t.toString()}`});x(n||[])}catch(e){let t=(0,v.__)("Search failed.","post-kinds-for-indieweb");e.message&&(t=e.message.includes("<")||e.message.includes("critical error")?(0,v.__)("API not configured. Use manual URL paste below, or configure BGG token in Settings.","post-kinds-for-indieweb"):e.message),h(t)}finally{p(!1)}}},[i,l,d]),V=(0,j.useCallback)(async e=>{if("bgg"===e.source&&e.id){p(!0);try{const t=await o()({path:`/post-kinds-indieweb/v1/lookup/game?source=bgg&id=${e.id}`});P("play_title",t.title||e.title),P("play_cover",t.cover||""),P("play_bgg_id",String(t.id||e.id)),P("play_rawg_id","")}catch{P("play_title",e.title),P("play_bgg_id",String(e.id)),P("play_rawg_id","")}finally{p(!1)}}else P("play_title",e.name||e.title),P("play_cover",e.cover||""),P("play_rawg_id",String(e.id)),P("play_bgg_id",""),e.platforms&&e.platforms.length>0&&P("play_platform",e.platforms[0]);x([]),a("")},[P]),E=[{label:(0,v.__)("Select Platform","post-kinds-for-indieweb"),value:""},{label:"â€” Video Games â€”",value:"",disabled:!0},{label:"PlayStation 5",value:"PlayStation 5"},{label:"PlayStation 4",value:"PlayStation 4"},{label:"Xbox Series X/S",value:"Xbox Series X/S"},{label:"Xbox One",value:"Xbox One"},{label:"Nintendo Switch",value:"Nintendo Switch"},{label:"Nintendo 3DS",value:"Nintendo 3DS"},{label:"Steam Deck",value:"Steam Deck"},{label:"â€” Computer/Mobile â€”",value:"",disabled:!0},{label:"Windows",value:"Windows"},{label:"Mac",value:"Mac"},{label:"Linux",value:"Linux"},{label:"iOS",value:"iOS"},{label:"Android",value:"Android"},{label:"â€” Tabletop â€”",value:"",disabled:!0},{label:"Board Game",value:"Board Game"},{label:"Card Game",value:"Card Game"},{label:"Tabletop RPG",value:"Tabletop RPG"},{label:"Miniatures",value:"Miniatures"},{label:"Dice Game",value:"Dice Game"},{label:"â€” Other â€”",value:"",disabled:!0},{label:"Other (type below)",value:"other"}],U=[{label:(0,v.__)("Playing","post-kinds-for-indieweb"),value:"playing"},{label:(0,v.__)("Completed","post-kinds-for-indieweb"),value:"completed"},{label:(0,v.__)("Abandoned","post-kinds-for-indieweb"),value:"abandoned"},{label:(0,v.__)("Backlog","post-kinds-for-indieweb"),value:"backlog"}],F=[{label:(0,v.__)("BGG: Board Games","post-kinds-for-indieweb"),value:"bgg-board"},{label:(0,v.__)("BGG: Video Games","post-kinds-for-indieweb"),value:"bgg-video"},{label:(0,v.__)("RAWG: Video Games","post-kinds-for-indieweb"),value:"rawg"}];return(0,M.jsxs)(S.Flex,{direction:"column",gap:4,className:"post-kinds-indieweb-kind-fields",children:[(0,M.jsx)(S.BaseControl,{id:e,label:(0,v.__)("Find Game","post-kinds-for-indieweb"),children:(0,M.jsxs)(S.Flex,{direction:"column",gap:2,children:[(0,M.jsx)("p",{style:{fontSize:"12px",color:"#757575",margin:"0 0 8px"},children:(0,v.__)("Search on these sites, then paste the URL:","post-kinds-for-indieweb")}),(0,M.jsxs)(S.Flex,{style:{marginBottom:"8px"},children:[(0,M.jsx)(S.ExternalLink,{href:`https://boardgamegeek.com/geeksearch.php?action=search&objecttype=boardgame&q=${encodeURIComponent(f||i||"")}`,children:(0,v.__)("BoardGameGeek","post-kinds-for-indieweb")}),(0,M.jsx)(S.ExternalLink,{href:`https://videogamegeek.com/geeksearch.php?action=search&objecttype=videogame&q=${encodeURIComponent(f||i||"")}`,children:(0,v.__)("VideoGameGeek","post-kinds-for-indieweb")})]}),(0,M.jsx)(S.TextControl,{value:m,onChange:e=>{k(e);const t=e.match(/(?:boardgamegeek|videogamegeek)\.com\/(?:boardgame|boardgameexpansion|videogame|videogameexpansion|rpgitem|thing)\/(\d+)(?:\/([^/?#]+))?/);if(t&&(P("play_bgg_id",t[1]),t[2])){const e=t[2].split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");P("play_title",e)}},placeholder:"https://boardgamegeek.com/boardgame/13/catan",__nextHasNoMarginBottom:!0}),T&&(0,M.jsxs)("p",{style:{fontSize:"12px",color:"#007cba",margin:"4px 0 0"},children:[(0,v.__)("BGG ID:","post-kinds-for-indieweb")," ",T]})]})}),(0,M.jsx)(S.BaseControl,{id:t,label:(0,v.__)("Or Search API (requires token)","post-kinds-for-indieweb"),children:(0,M.jsxs)(S.Flex,{direction:"column",gap:2,children:[(0,M.jsx)(S.SelectControl,{value:"rawg"===l?"rawg":"videogame"===d?"bgg-video":"bgg-board",options:F,onChange:e=>{"bgg-board"===e?(r("bgg"),c("boardgame")):"bgg-video"===e?(r("bgg"),c("videogame")):(r("rawg"),c("videogame"))},__nextHasNoMarginBottom:!0}),(0,M.jsxs)(S.Flex,{children:[(0,M.jsx)(S.TextControl,{value:i,onChange:a,placeholder:(0,v.__)("Game titleâ€¦","post-kinds-for-indieweb"),onKeyDown:e=>"Enter"===e.key&&I(),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.Button,{icon:D,onClick:I,disabled:_,label:(0,v.__)("Search","post-kinds-for-indieweb")})]})]})}),_&&(0,M.jsx)(S.Spinner,{}),b&&(0,M.jsx)("p",{style:{color:"#d63638",fontSize:"12px"},children:b}),u.length>0&&(0,M.jsx)("div",{className:"post-kinds-indieweb-api-results",children:u.slice(0,8).map((e,t)=>(0,M.jsxs)(S.Button,{className:"post-kinds-indieweb-api-result",onClick:()=>V(e),children:[e.cover&&(0,M.jsx)("img",{src:e.cover,alt:"",width:"40",height:"40"}),(0,M.jsxs)("span",{children:[(0,M.jsx)("strong",{children:e.name||e.title}),e.year&&(0,M.jsxs)(M.Fragment,{children:[" (",e.year,")"]}),e.platforms&&e.platforms.length>0&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("br",{}),(0,M.jsx)("small",{children:e.platforms.slice(0,3).join(", ")})]})]})]},t))}),N&&(0,M.jsx)("div",{style:{textAlign:"center"},children:(0,M.jsx)("img",{src:N,alt:f,style:{maxWidth:"150px",maxHeight:"200px",borderRadius:"4px"}})}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Game Title","post-kinds-for-indieweb"),value:f,onChange:e=>P("play_title",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.SelectControl,{label:(0,v.__)("Platform","post-kinds-for-indieweb"),value:K?y:y?"other":"",options:E,onChange:e=>{"other"===e?(w(!0),P("play_platform","")):(w(!1),P("play_platform",e))},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(g||y&&!K)&&(0,M.jsx)(S.TextControl,{label:(0,v.__)("Custom Platform","post-kinds-for-indieweb"),value:y||"",onChange:e=>P("play_platform",e),placeholder:(0,v.__)("Enter platform nameâ€¦","post-kinds-for-indieweb"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.SelectControl,{label:(0,v.__)("Status","post-kinds-for-indieweb"),value:C||"playing",options:U,onChange:e=>P("play_status",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Hours Played","post-kinds-for-indieweb"),type:"number",min:"0",step:"0.5",value:B||"",onChange:e=>P("play_hours",parseFloat(e)||0),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.RangeControl,{label:(0,v.__)("Rating","post-kinds-for-indieweb"),value:z||0,onChange:e=>P("play_rating",e),min:0,max:5,step:.5,withInputField:!0,renderTooltipContent:e=>`${e} / 5`,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Cover Image URL","post-kinds-for-indieweb"),type:"url",value:N,onChange:e=>P("play_cover",e),placeholder:"https://",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Official Website","post-kinds-for-indieweb"),type:"url",value:A,onChange:e=>P("play_official_url",e),placeholder:"https://...",help:(0,v.__)("Link to the official game website.","post-kinds-for-indieweb"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Purchase Link","post-kinds-for-indieweb"),type:"url",value:R,onChange:e=>P("play_purchase_url",e),placeholder:"https://amazon.com/...",help:(0,v.__)("Link to buy the game.","post-kinds-for-indieweb"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsxs)("details",{style:{fontSize:"12px"},children:[(0,M.jsx)("summary",{style:{cursor:"pointer",marginBottom:"8px"},children:(0,v.__)("Advanced: Game IDs","post-kinds-for-indieweb")}),(0,M.jsxs)(S.Flex,{direction:"column",gap:2,children:[(0,M.jsx)(S.TextControl,{label:(0,v.__)("BoardGameGeek ID","post-kinds-for-indieweb"),value:T,onChange:e=>P("play_bgg_id",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("RAWG ID","post-kinds-for-indieweb"),value:H,onChange:e=>P("play_rawg_id",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Steam App ID","post-kinds-for-indieweb"),value:L,onChange:e=>P("play_steam_id",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]})]})]})}const q=[{label:(0,v.__)("Select cuisineâ€¦","post-kinds-for-indieweb"),value:"",emoji:"ðŸ½ï¸"},{label:(0,v.__)("American","post-kinds-for-indieweb"),value:"american",emoji:"ðŸ”"},{label:(0,v.__)("Chinese","post-kinds-for-indieweb"),value:"chinese",emoji:"ðŸ¥¡"},{label:(0,v.__)("French","post-kinds-for-indieweb"),value:"french",emoji:"ðŸ¥"},{label:(0,v.__)("Indian","post-kinds-for-indieweb"),value:"indian",emoji:"ðŸ›"},{label:(0,v.__)("Italian","post-kinds-for-indieweb"),value:"italian",emoji:"ðŸ"},{label:(0,v.__)("Japanese","post-kinds-for-indieweb"),value:"japanese",emoji:"ðŸ±"},{label:(0,v.__)("Korean","post-kinds-for-indieweb"),value:"korean",emoji:"ðŸœ"},{label:(0,v.__)("Mexican","post-kinds-for-indieweb"),value:"mexican",emoji:"ðŸŒ®"},{label:(0,v.__)("Thai","post-kinds-for-indieweb"),value:"thai",emoji:"ðŸ²"},{label:(0,v.__)("Vietnamese","post-kinds-for-indieweb"),value:"vietnamese",emoji:"ðŸœ"},{label:(0,v.__)("Mediterranean","post-kinds-for-indieweb"),value:"mediterranean",emoji:"ðŸ¥™"},{label:(0,v.__)("Seafood","post-kinds-for-indieweb"),value:"seafood",emoji:"ðŸ¦"},{label:(0,v.__)("Breakfast","post-kinds-for-indieweb"),value:"breakfast",emoji:"ðŸ¥ž"},{label:(0,v.__)("Dessert","post-kinds-for-indieweb"),value:"dessert",emoji:"ðŸ°"},{label:(0,v.__)("Other","post-kinds-for-indieweb"),value:"other",emoji:"ðŸ½ï¸"}];function O(){const e=(0,j.useId)(),{eatName:t,eatCuisine:i,eatType:o,eatPhoto:a,eatRating:l,eatNotes:r,eatRestaurantUrl:d,eatLocationName:c,eatLocationAddress:_,eatLocationLocality:p,eatLocationRegion:u,eatLocationCountry:x,eatGeoLatitude:b,eatGeoLongitude:h}=(0,n.useSelect)(e=>{const t=e(s).getKindMeta;return{eatName:t("eat_name"),eatCuisine:t("eat_cuisine"),eatType:t("eat_type"),eatPhoto:t("eat_photo"),eatRating:t("eat_rating"),eatNotes:t("eat_notes"),eatRestaurantUrl:t("eat_restaurant_url"),eatLocationName:t("eat_location_name"),eatLocationAddress:t("eat_location_address"),eatLocationLocality:t("eat_location_locality"),eatLocationRegion:t("eat_location_region"),eatLocationCountry:t("eat_location_country"),eatGeoLatitude:t("eat_geo_latitude"),eatGeoLongitude:t("eat_geo_longitude")}},[]),{updateKindMeta:m}=(0,n.useDispatch)(s),k=q.map(e=>({label:`${e.emoji} ${e.label}`,value:e.value})),g=[{label:(0,v.__)("Select typeâ€¦","post-kinds-for-indieweb"),value:""},{label:(0,v.__)("Breakfast","post-kinds-for-indieweb"),value:"breakfast"},{label:(0,v.__)("Lunch","post-kinds-for-indieweb"),value:"lunch"},{label:(0,v.__)("Dinner","post-kinds-for-indieweb"),value:"dinner"},{label:(0,v.__)("Snack","post-kinds-for-indieweb"),value:"snack"},{label:(0,v.__)("Dessert","post-kinds-for-indieweb"),value:"dessert"}];return(0,M.jsxs)(S.Flex,{direction:"column",gap:4,className:"post-kinds-indieweb-kind-fields",children:[(0,M.jsx)(S.TextControl,{label:(0,v.__)("Food/Meal","post-kinds-for-indieweb"),value:t,onChange:e=>m("eat_name",e),placeholder:(0,v.__)("What did you eat?","post-kinds-for-indieweb"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.SelectControl,{label:(0,v.__)("Cuisine","post-kinds-for-indieweb"),value:i,options:k,onChange:e=>m("eat_cuisine",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.SelectControl,{label:(0,v.__)("Meal Type","post-kinds-for-indieweb"),value:o,options:g,onChange:e=>m("eat_type",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.RangeControl,{label:(0,v.__)("Rating","post-kinds-for-indieweb"),value:l||0,onChange:e=>m("eat_rating",e),min:0,max:5,step:.5,withInputField:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Photo URL","post-kinds-for-indieweb"),type:"url",value:a,onChange:e=>m("eat_photo",e),placeholder:"https://",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Notes","post-kinds-for-indieweb"),value:r,onChange:e=>m("eat_notes",e),placeholder:(0,v.__)("How was it?","post-kinds-for-indieweb"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.BaseControl,{id:e,label:(0,v.__)("Location","post-kinds-for-indieweb"),children:(0,M.jsxs)(S.Flex,{direction:"column",gap:3,children:[(0,M.jsx)(S.TextControl,{label:(0,v.__)("Restaurant/Venue Name","post-kinds-for-indieweb"),value:c,onChange:e=>m("eat_location_name",e),placeholder:(0,v.__)("Where did you eat?","post-kinds-for-indieweb"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Address","post-kinds-for-indieweb"),value:_,onChange:e=>m("eat_location_address",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsxs)(S.Flex,{children:[(0,M.jsx)(S.TextControl,{label:(0,v.__)("City","post-kinds-for-indieweb"),value:p,onChange:e=>m("eat_location_locality",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("State/Region","post-kinds-for-indieweb"),value:u,onChange:e=>m("eat_location_region",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Country","post-kinds-for-indieweb"),value:x,onChange:e=>m("eat_location_country",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Website URL","post-kinds-for-indieweb"),type:"url",value:d,onChange:e=>m("eat_restaurant_url",e),placeholder:"https://",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsxs)(S.Flex,{children:[(0,M.jsx)(S.TextControl,{label:(0,v.__)("Latitude","post-kinds-for-indieweb"),value:b,onChange:e=>m("eat_geo_latitude",parseFloat(e)||0),type:"number",step:"0.0000001",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Longitude","post-kinds-for-indieweb"),value:h,onChange:e=>m("eat_geo_longitude",parseFloat(e)||0),type:"number",step:"0.0000001",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]})]})})]})}function W(){const e=(0,j.useId)(),{drinkName:t,drinkType:i,drinkBrewery:o,drinkPhoto:a,drinkRating:l,drinkLocationName:r,drinkLocationAddress:d,drinkLocationLocality:c,drinkLocationRegion:_,drinkLocationCountry:p,drinkGeoLatitude:u,drinkGeoLongitude:x}=(0,n.useSelect)(e=>{const t=e(s).getKindMeta;return{drinkName:t("drink_name"),drinkType:t("drink_type"),drinkBrewery:t("drink_brewery"),drinkPhoto:t("drink_photo"),drinkRating:t("drink_rating"),drinkLocationName:t("drink_location_name"),drinkLocationAddress:t("drink_location_address"),drinkLocationLocality:t("drink_location_locality"),drinkLocationRegion:t("drink_location_region"),drinkLocationCountry:t("drink_location_country"),drinkGeoLatitude:t("drink_geo_latitude"),drinkGeoLongitude:t("drink_geo_longitude")}},[]),{updateKindMeta:b}=(0,n.useDispatch)(s),h=[{label:(0,v.__)("Select typeâ€¦","post-kinds-for-indieweb"),value:""},{label:(0,v.__)("Coffee","post-kinds-for-indieweb"),value:"coffee"},{label:(0,v.__)("Tea","post-kinds-for-indieweb"),value:"tea"},{label:(0,v.__)("Beer","post-kinds-for-indieweb"),value:"beer"},{label:(0,v.__)("Wine","post-kinds-for-indieweb"),value:"wine"},{label:(0,v.__)("Cocktail","post-kinds-for-indieweb"),value:"cocktail"},{label:(0,v.__)("Spirit","post-kinds-for-indieweb"),value:"spirit"},{label:(0,v.__)("Soda","post-kinds-for-indieweb"),value:"soda"},{label:(0,v.__)("Juice","post-kinds-for-indieweb"),value:"juice"},{label:(0,v.__)("Water","post-kinds-for-indieweb"),value:"water"},{label:(0,v.__)("Other","post-kinds-for-indieweb"),value:"other"}];return(0,M.jsxs)(S.Flex,{direction:"column",gap:4,className:"post-kinds-indieweb-kind-fields",children:[(0,M.jsx)(S.TextControl,{label:(0,v.__)("Drink Name","post-kinds-for-indieweb"),value:t,onChange:e=>b("drink_name",e),placeholder:(0,v.__)("What are you drinking?","post-kinds-for-indieweb"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.SelectControl,{label:(0,v.__)("Type","post-kinds-for-indieweb"),value:i,options:h,onChange:e=>b("drink_type",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Brewery/Brand","post-kinds-for-indieweb"),value:o,onChange:e=>b("drink_brewery",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.RangeControl,{label:(0,v.__)("Rating","post-kinds-for-indieweb"),value:l||0,onChange:e=>b("drink_rating",e),min:0,max:5,step:.5,withInputField:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Photo URL","post-kinds-for-indieweb"),type:"url",value:a,onChange:e=>b("drink_photo",e),placeholder:"https://",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.BaseControl,{id:e,label:(0,v.__)("Location","post-kinds-for-indieweb"),children:(0,M.jsxs)(S.Flex,{direction:"column",gap:3,children:[(0,M.jsx)(S.TextControl,{label:(0,v.__)("Bar/Cafe/Venue Name","post-kinds-for-indieweb"),value:r,onChange:e=>b("drink_location_name",e),placeholder:(0,v.__)("Where are you drinking?","post-kinds-for-indieweb"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Address","post-kinds-for-indieweb"),value:d,onChange:e=>b("drink_location_address",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsxs)(S.Flex,{children:[(0,M.jsx)(S.TextControl,{label:(0,v.__)("City","post-kinds-for-indieweb"),value:c,onChange:e=>b("drink_location_locality",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("State/Region","post-kinds-for-indieweb"),value:_,onChange:e=>b("drink_location_region",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Country","post-kinds-for-indieweb"),value:p,onChange:e=>b("drink_location_country",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsxs)(S.Flex,{children:[(0,M.jsx)(S.TextControl,{label:(0,v.__)("Latitude","post-kinds-for-indieweb"),value:u,onChange:e=>b("drink_geo_latitude",parseFloat(e)||0),type:"number",step:"0.0000001",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Longitude","post-kinds-for-indieweb"),value:x,onChange:e=>b("drink_geo_longitude",parseFloat(e)||0),type:"number",step:"0.0000001",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]})]})})]})}function $(){const{favoriteName:e,favoriteUrl:t,favoriteRating:i}=(0,n.useSelect)(e=>{const t=e(s).getKindMeta;return{favoriteName:t("favorite_name"),favoriteUrl:t("favorite_url"),favoriteRating:t("favorite_rating")}},[]),{updateKindMeta:o}=(0,n.useDispatch)(s);return(0,M.jsxs)(S.Flex,{direction:"column",gap:4,className:"post-kinds-indieweb-kind-fields",children:[(0,M.jsx)(S.TextControl,{label:(0,v.__)("Name/Title","post-kinds-for-indieweb"),value:e,onChange:e=>o("favorite_name",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("URL","post-kinds-for-indieweb"),type:"url",value:t,onChange:e=>o("favorite_url",e),placeholder:"https://",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.RangeControl,{label:(0,v.__)("Rating","post-kinds-for-indieweb"),value:i||0,onChange:e=>o("favorite_rating",e),min:0,max:5,step:.5,withInputField:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]})}function Y(){const{jamTrack:e,jamArtist:t,jamAlbum:i,jamUrl:o,jamCover:a}=(0,n.useSelect)(e=>{const t=e(s).getKindMeta;return{jamTrack:t("jam_track"),jamArtist:t("jam_artist"),jamAlbum:t("jam_album"),jamUrl:t("jam_url"),jamCover:t("jam_cover")}},[]),{updateKindMeta:l}=(0,n.useDispatch)(s);return(0,M.jsxs)(S.Flex,{direction:"column",gap:4,className:"post-kinds-indieweb-kind-fields",children:[a&&(0,M.jsx)("div",{style:{textAlign:"center"},children:(0,M.jsx)("img",{src:a,alt:e,style:{maxWidth:"120px",borderRadius:"4px"}})}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Track","post-kinds-for-indieweb"),value:e,onChange:e=>l("jam_track",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Artist","post-kinds-for-indieweb"),value:t,onChange:e=>l("jam_artist",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Album","post-kinds-for-indieweb"),value:i,onChange:e=>l("jam_album",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Link","post-kinds-for-indieweb"),type:"url",value:o,onChange:e=>l("jam_url",e),placeholder:"https://open.spotify.com/...",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Cover Image URL","post-kinds-for-indieweb"),type:"url",value:a,onChange:e=>l("jam_cover",e),placeholder:"https://",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]})}function X(){const{wishName:e,wishUrl:t,wishType:i,wishPriority:o,wishPhoto:a}=(0,n.useSelect)(e=>{const t=e(s).getKindMeta;return{wishName:t("wish_name"),wishUrl:t("wish_url"),wishType:t("wish_type"),wishPriority:t("wish_priority"),wishPhoto:t("wish_photo")}},[]),{updateKindMeta:l}=(0,n.useDispatch)(s),r=[{label:(0,v.__)("Select typeâ€¦","post-kinds-for-indieweb"),value:""},{label:(0,v.__)("Book","post-kinds-for-indieweb"),value:"book"},{label:(0,v.__)("Movie/Show","post-kinds-for-indieweb"),value:"movie"},{label:(0,v.__)("Game","post-kinds-for-indieweb"),value:"game"},{label:(0,v.__)("Music","post-kinds-for-indieweb"),value:"music"},{label:(0,v.__)("Product","post-kinds-for-indieweb"),value:"product"},{label:(0,v.__)("Experience","post-kinds-for-indieweb"),value:"experience"},{label:(0,v.__)("Other","post-kinds-for-indieweb"),value:"other"}],d=[{label:(0,v.__)("Low","post-kinds-for-indieweb"),value:"low"},{label:(0,v.__)("Medium","post-kinds-for-indieweb"),value:"medium"},{label:(0,v.__)("High","post-kinds-for-indieweb"),value:"high"}];return(0,M.jsxs)(S.Flex,{direction:"column",gap:4,className:"post-kinds-indieweb-kind-fields",children:[(0,M.jsx)(S.TextControl,{label:(0,v.__)("Item Name","post-kinds-for-indieweb"),value:e,onChange:e=>l("wish_name",e),placeholder:(0,v.__)("What do you wish for?","post-kinds-for-indieweb"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("URL","post-kinds-for-indieweb"),type:"url",value:t,onChange:e=>l("wish_url",e),placeholder:"https://",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.SelectControl,{label:(0,v.__)("Type","post-kinds-for-indieweb"),value:i,options:r,onChange:e=>l("wish_type",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.SelectControl,{label:(0,v.__)("Priority","post-kinds-for-indieweb"),value:o||"medium",options:d,onChange:e=>l("wish_priority",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Photo URL","post-kinds-for-indieweb"),type:"url",value:a,onChange:e=>l("wish_photo",e),placeholder:"https://",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]})}function Z(){const{moodEmoji:e,moodLabel:t,moodRating:i}=(0,n.useSelect)(e=>{const t=e(s).getKindMeta;return{moodEmoji:t("mood_emoji"),moodLabel:t("mood_label"),moodRating:t("mood_rating")}},[]),{updateKindMeta:o}=(0,n.useDispatch)(s),a=[{label:(0,v.__)("Select levelâ€¦","post-kinds-for-indieweb"),value:""},{label:"1 - "+(0,v.__)("Low","post-kinds-for-indieweb"),value:"1"},{label:"2",value:"2"},{label:"3 - "+(0,v.__)("Neutral","post-kinds-for-indieweb"),value:"3"},{label:"4",value:"4"},{label:"5 - "+(0,v.__)("High","post-kinds-for-indieweb"),value:"5"}];return(0,M.jsxs)(S.Flex,{direction:"column",gap:4,className:"post-kinds-indieweb-kind-fields",children:[e&&(0,M.jsx)("div",{style:{fontSize:"48px",textAlign:"center"},children:e}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Mood Emoji","post-kinds-for-indieweb"),value:e,onChange:e=>o("mood_emoji",e),placeholder:"ðŸ˜Š",maxLength:10,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Mood Label","post-kinds-for-indieweb"),value:t,onChange:e=>o("mood_label",e),placeholder:(0,v.__)("How are you feeling?","post-kinds-for-indieweb"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.SelectControl,{label:(0,v.__)("Level (1â€“5)","post-kinds-for-indieweb"),value:i?String(i):"",options:a,onChange:e=>o("mood_rating",parseInt(e)||0),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]})}function J(){const{acquisitionName:e,acquisitionUrl:t,acquisitionPrice:i,acquisitionPhoto:o,acquisitionRating:a}=(0,n.useSelect)(e=>{const t=e(s).getKindMeta;return{acquisitionName:t("acquisition_name"),acquisitionUrl:t("acquisition_url"),acquisitionPrice:t("acquisition_price"),acquisitionPhoto:t("acquisition_photo"),acquisitionRating:t("acquisition_rating")}},[]),{updateKindMeta:l}=(0,n.useDispatch)(s);return(0,M.jsxs)(S.Flex,{direction:"column",gap:4,className:"post-kinds-indieweb-kind-fields",children:[o&&(0,M.jsx)("div",{style:{textAlign:"center"},children:(0,M.jsx)("img",{src:o,alt:e,style:{maxWidth:"150px",borderRadius:"4px"}})}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Item Name","post-kinds-for-indieweb"),value:e,onChange:e=>l("acquisition_name",e),placeholder:(0,v.__)("What did you get?","post-kinds-for-indieweb"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("URL","post-kinds-for-indieweb"),type:"url",value:t,onChange:e=>l("acquisition_url",e),placeholder:"https://",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Price","post-kinds-for-indieweb"),value:i,onChange:e=>l("acquisition_price",e),placeholder:"$0.00",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.RangeControl,{label:(0,v.__)("Rating","post-kinds-for-indieweb"),value:a||0,onChange:e=>l("acquisition_rating",e),min:0,max:5,step:.5,withInputField:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Photo URL","post-kinds-for-indieweb"),type:"url",value:o,onChange:e=>l("acquisition_photo",e),placeholder:"https://",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]})}function Q(){const{recipeName:e,recipeYield:t,recipeDuration:i,recipeUrl:o}=(0,n.useSelect)(e=>{const t=e(s).getKindMeta;return{recipeName:t("recipe_name"),recipeYield:t("recipe_yield"),recipeDuration:t("recipe_duration"),recipeUrl:t("recipe_url")}},[]),{updateKindMeta:a}=(0,n.useDispatch)(s);return(0,M.jsxs)(S.Flex,{direction:"column",gap:4,className:"post-kinds-indieweb-kind-fields",children:[(0,M.jsx)("p",{className:"description",style:{margin:0,fontSize:"12px",color:"#757575"},children:(0,v.__)("For full recipe features, use WP Recipe Maker blocks.","post-kinds-for-indieweb")}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Recipe Name","post-kinds-for-indieweb"),value:e,onChange:e=>a("recipe_name",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Yield/Servings","post-kinds-for-indieweb"),value:t,onChange:e=>a("recipe_yield",e),placeholder:(0,v.__)("4 servings","post-kinds-for-indieweb"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Total Time","post-kinds-for-indieweb"),value:i,onChange:e=>a("recipe_duration",e),placeholder:(0,v.__)("PT1H30M (ISO 8601)","post-kinds-for-indieweb"),help:(0,v.__)("Format: PT1H30M = 1 hour 30 minutes","post-kinds-for-indieweb"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,M.jsx)(S.TextControl,{label:(0,v.__)("Recipe Source URL","post-kinds-for-indieweb"),type:"url",value:o,onChange:e=>a("recipe_url",e),placeholder:"https://",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]})}var ee=(0,M.jsx)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,M.jsx)(B.Path,{d:"M16.5 7.5 10 13.9l-2.5-2.4-1 1 3.5 3.6 7.5-7.6z"})}),te=(0,M.jsx)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,M.jsx)(B.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})});function ne({kindLabel:e,onAccept:t,onDismiss:n}){return(0,M.jsxs)(S.Notice,{status:"info",isDismissible:!1,className:"post-kinds-indieweb-auto-detect-notice",children:[(0,M.jsxs)("p",{children:[(0,v.__)("Auto-detected as:","post-kinds-for-indieweb")," ",(0,M.jsx)("strong",{children:e})]}),(0,M.jsxs)("div",{className:"post-kinds-indieweb-auto-detect-actions",children:[(0,M.jsx)(S.Button,{variant:"primary",size:"small",icon:ee,onClick:t,children:(0,v.__)("Use this","post-kinds-for-indieweb")}),(0,M.jsx)(S.Button,{variant:"secondary",size:"small",icon:te,onClick:n,children:(0,v.__)("Choose different","post-kinds-for-indieweb")})]}),(0,M.jsx)("style",{children:"\n\t\t\t\t.post-kinds-indieweb-auto-detect-notice {\n\t\t\t\t\tmargin-bottom: 16px;\n\t\t\t\t}\n\n\t\t\t\t.post-kinds-indieweb-auto-detect-notice p {\n\t\t\t\t\tmargin: 0 0 8px 0;\n\t\t\t\t}\n\n\t\t\t\t.post-kinds-indieweb-auto-detect-actions {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tgap: 8px;\n\t\t\t\t}\n\n\t\t\t\t.post-kinds-indieweb-auto-detect-actions .components-button {\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t}\n\t\t\t"})]})}const ie={"indieblocks/reply":"reply","indieblocks/like":"like","indieblocks/repost":"repost","indieblocks/bookmark":"bookmark","mamaduka/bookmark-card":"bookmark","core/gallery":"photo","core/image":"photo","core/video":"video","core/audio":"listen"};function oe(e,t){for(const n of e){if(ie[n.name])return ie[n.name];if(n.innerBlocks&&n.innerBlocks.length>0){const e=oe(n.innerBlocks,t);if(e)return e}}const n=e.some(e=>"core/gallery"===e.name),i=e.filter(e=>"core/image"===e.name).length;return n||i>=3?"photo":e.some(e=>"core/video"===e.name)?"video":t&&t.trim().length>0?"article":"note"}(0,n.register)(f),(0,t.registerPlugin)("post-kinds-indieweb-kind-selector",{render:function(){const{selectedKind:e,autoDetectedKind:t,isAutoDetectionEnabled:i,availableKinds:l,isInitialized:r,postTitle:d,blocks:c,citeUrl:_,bookmarkEmbedType:p}=(0,n.useSelect)(e=>{const t=e(s),n=e(a.store),i=e(y.store);return{selectedKind:t.getSelectedKind(),autoDetectedKind:t.getAutoDetectedKind(),isAutoDetectionEnabled:t.isAutoDetectionEnabled(),availableKinds:t.getAvailableKinds(),isInitialized:t.isInitialized(),postTitle:n.getEditedPostAttribute("title"),blocks:i.getBlocks(),citeUrl:t.getKindMeta("cite_url"),bookmarkEmbedType:t.getKindMeta("bookmark_embed_type")||"auto"}},[]),{initialize:u,setAutoDetectedKind:x,updatePostKind:b,disableAutoDetection:h}=(0,n.useDispatch)(s),{insertBlocks:m,replaceBlock:k}=(0,n.useDispatch)(y.store),g=(0,j.useCallback)(e=>{const t={listen:"post-kinds-indieweb/listen-card",watch:"post-kinds-indieweb/watch-card",read:"post-kinds-indieweb/read-card",checkin:"post-kinds-indieweb/checkin-card",rsvp:"post-kinds-indieweb/rsvp-card",play:"post-kinds-indieweb/play-card",eat:"post-kinds-indieweb/eat-card",drink:"post-kinds-indieweb/drink-card",favorite:"post-kinds-indieweb/favorite-card",jam:"post-kinds-indieweb/jam-card",wish:"post-kinds-indieweb/wish-card",mood:"post-kinds-indieweb/mood-card",acquisition:"post-kinds-indieweb/acquisition-card"}[e];if(!t)return!0;const n=e=>{for(const i of e){if(i.name===t)return!0;if(i.innerBlocks&&i.innerBlocks.length>0&&n(i.innerBlocks))return!0}return!1};return n(c)},[c]),w=(0,j.useCallback)(e=>{const t={listen:"post-kinds-indieweb/listen-card",watch:"post-kinds-indieweb/watch-card",read:"post-kinds-indieweb/read-card",checkin:"post-kinds-indieweb/checkin-card",rsvp:"post-kinds-indieweb/rsvp-card",play:"post-kinds-indieweb/play-card",eat:"post-kinds-indieweb/eat-card",drink:"post-kinds-indieweb/drink-card",favorite:"post-kinds-indieweb/favorite-card",jam:"post-kinds-indieweb/jam-card",wish:"post-kinds-indieweb/wish-card",mood:"post-kinds-indieweb/mood-card",acquisition:"post-kinds-indieweb/acquisition-card"}[e];if(!t)return;if(g(e))return;const n=(0,C.createBlock)(t);m(n,0)},[g,m]);(0,j.useEffect)(()=>{r||u()},[r,u]);const f=(0,j.useRef)(!1);(0,j.useEffect)(()=>{if(!r||"bookmark"!==e)return;if(f.current)return;const t=e=>{for(const n of e){if("core/embed"===n.name||"mamaduka/bookmark-card"===n.name||"indieblocks/bookmark"===n.name)return!0;if(n.innerBlocks&&n.innerBlocks.length>0&&t(n.innerBlocks))return!0}return!1};if(t(c))return void(f.current=!0);const n=(0,C.createBlock)("core/embed");m(n,0),f.current=!0},[r,e,c,m]),(0,j.useEffect)(()=>{if(!i||e)return;const t=oe(c,d);x(t)},[c,d,i,e,x]);const{updateKindMeta:S}=(0,n.useDispatch)(s);(0,j.useEffect)(()=>{if(!window.postKindsIndieWebEditor?.bookmarkCardActive)return;const e=t=>{for(const n of t){if("mamaduka/bookmark-card"===n.name)return n;if(n.innerBlocks&&n.innerBlocks.length>0){const t=e(n.innerBlocks);if(t)return t}}return null},t=e(c);if(!t)return;const{url:n,title:i,description:o,publisher:a,image:s}=t.attributes;n&&S("cite_url",n),i&&S("cite_name",i),o&&S("cite_summary",o),a&&S("cite_author",a),s&&S("cite_photo",s)},[c,S]);const B=(0,j.useRef)("");(0,j.useEffect)(()=>{"bookmark"===(e||t)&&_&&_.startsWith("http")&&B.current!==_&&(c.some(e=>"core/embed"===e.name||"mamaduka/bookmark-card"===e.name||"indieblocks/bookmark"===e.name)?B.current=_:"none"!==p?(async()=>{let e=!1;if("auto"===p||"oembed"===p)try{const t=await o()({path:`/post-kinds-indieweb/v1/check-oembed?url=${encodeURIComponent(_)}`});e=t?.supported||!1}catch{e=!1}const t=function(e,t){const n=window.postKindsIndieWebEditor?.bookmarkCardActive;switch(e){case"oembed":return"core/embed";case"bookmark-card":return n?"mamaduka/bookmark-card":null;case"none":return null;default:return t?"core/embed":n?"mamaduka/bookmark-card":null}}(p,e);if(!t)return void(B.current=_);let n;"core/embed"===t?n=(0,C.createBlock)("core/embed",{url:_}):"mamaduka/bookmark-card"===t&&(n=(0,C.createBlock)("mamaduka/bookmark-card",{url:_})),n&&(m(n,0),B.current=_)})():B.current=_)},[_,p,e,t,c,m]);const D=(0,j.useRef)(new Set);(0,j.useEffect)(()=>{if("bookmark"!==(e||t))return;if(!window.postKindsIndieWebEditor?.bookmarkCardActive)return;const n=e=>{const t=[];for(const i of e){if("core/embed"===i.name&&i.attributes?.url){const{url:e,providerNameSlug:n}=i.attributes;if(D.current.has(i.clientId))continue;if(n){D.current.add(i.clientId);continue}t.push({block:i,url:e})}i.innerBlocks&&i.innerBlocks.length>0&&t.push(...n(i.innerBlocks))}return t},i=n(c);if(0===i.length)return;const a=setTimeout(async()=>{for(const{block:e,url:t}of i){if(D.current.has(e.clientId))continue;D.current.add(e.clientId);let n=!1;try{const e=await o()({path:`/post-kinds-indieweb/v1/check-oembed?url=${encodeURIComponent(t)}`});n=e?.supported||!1}catch{n=!1}if(!n){const n=(0,C.createBlock)("mamaduka/bookmark-card",{url:t});k(e.clientId,n)}}},1500);return()=>clearTimeout(a)},[c,e,t,k]);const T=(0,j.useCallback)(()=>{const e=t=>{for(const n of t){if("core/embed"===n.name||"mamaduka/bookmark-card"===n.name||"indieblocks/bookmark"===n.name)return!0;if(n.innerBlocks&&n.innerBlocks.length>0&&e(n.innerBlocks))return!0}return!1};return e(c)},[c]),H=(0,j.useCallback)(()=>{if(T())return;const e=(0,C.createBlock)("core/embed");m(e,0)},[T,m]),A=e||t||"note",R=l.find(e=>e.slug===A),P=N[A]||N.note;return(0,M.jsxs)(a.PluginDocumentSettingPanel,{name:"post-kinds-indieweb-kind-selector",title:(0,v.__)("Post Kind","post-kinds-for-indieweb"),className:"post-kinds-indieweb-kind-panel",icon:(0,M.jsx)(P,{}),children:[!e&&t&&(0,M.jsx)(ne,{detectedKind:t,kindLabel:R?.name||t,onAccept:function(){if(t){if(b(t),h(),"bookmark"===t)return void H();w(t)}},onDismiss:()=>x(null)}),(0,M.jsx)(z,{kinds:l,selectedKind:A,onSelect:function(e){b(e),h(),"bookmark"!==e?w(e):H()}}),A&&(0,M.jsx)(L,{kind:A})]})},icon:null});const ae=e=>{const{kind:t}=e.detail||{};t&&(0,n.select)(s)&&(0,n.dispatch)(s).updatePostKind(t)};window.addEventListener("post-kinds-indieweb-set-kind",ae),window.addEventListener("reactions-indieweb-set-kind",ae)})();